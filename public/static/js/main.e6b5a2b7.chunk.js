(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{50:function(e,t,a){e.exports=a(88)},72:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(43),r=a.n(c),s=a(4),o=a.n(s),m=(a(72),a(44)),i=a(45),d=a(49),u=a(48),E=a(6),g=a(7),p=a(1),f=a(2),_={LOGIN:"LOGIN",LOGOUT:"LOGOUT",START_LOADING:"START_LOADING",STOP_LOADING:"STOP_LOADING",SET_RESPONSE:"SET_RESPONSE",REMOVE_RESPONSE:"REMOVE_RESPONSE",RELOAD:"RELOAD",ADD_DATA:"ADD_DATA",UPDATE_DATA:"UPDATE_DATA",GET_ALL_DATA:"GET_ALL_DATA",ADD_SEASON:"ADD_SEASON",CLEAR_SEASON:"CLEAR_SEASON",SWITCH_SEASON:"SWITCH_SEASON"},b={USERINFO_LOCAL:"USERINFO_LOCAL",SEASONINFO_LOCAL:"SEASONINFO_LOCAL",DATE_FORMAT:"YYYY-MMMM-DD",DATE_FORMAT_SIMPLE:"YYYY-MM-DD",NO_TYPE:"NO_TYPE",MIL_TYPE:"MIL_TYPE",KACHA_TYPE:"KACHA_TYPE",PAKA_TYPE:"PAKA_TYPE",JAB_TYPE:"JAB_TYPE"},N=null===localStorage.getItem(b.USERINFO_LOCAL)?{}:JSON.parse(localStorage.getItem(b.USERINFO_LOCAL)),h=function(e,t){return t.type===_.LOGIN?Object(f.a)(Object(f.a)({},e),t.payload):t.type===_.LOGOUT?{}:e},S=function(e,t,a,n){return{success:e,title:t,desc:a,type:n}},v={loading:!1,response:S(null,null,null,null),reload:!1},O=function(e,t){switch(t.type){case _.START_LOADING:return Object(f.a)(Object(f.a)({},e),{},{loading:!0});case _.STOP_LOADING:return Object(f.a)(Object(f.a)({},e),{},{loading:!1});case _.SET_RESPONSE:return Object(f.a)(Object(f.a)({},e),{},{response:t.payload});case _.REMOVE_RESPONSE:return Object(f.a)(Object(f.a)({},e),{},{response:S(null,null,null,null)});case _.RELOAD:return Object(f.a)(Object(f.a)({},e),{},{reload:!e.reload});default:return e}},y=a(20),I=[],A=function(e,t){switch(t.type){case _.GET_ALL_DATA:return Object(y.a)(t.payload);case _.ADD_DATA:return[t.payload].concat(Object(y.a)(e));case _.UPDATE_DATA:return e=e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}},D=[],T=function(e,t){switch(t.type){case _.GET_ALL_DATA:return Object(y.a)(t.payload);case _.ADD_SEASON:return[].concat(Object(y.a)(e),[t.payload]);case _.CLEAR_SEASON:return[];case _.SWITCH_SEASON:var a=e.map((function(e){return 1===e.active?(e.active=0,e):e.id===t.payload?(e.active=1,e):e}));return Object(y.a)(a);default:return e}},C=Object(n.createContext)(),L=Object(n.createContext)(),P=function(e){var t=Object(n.useReducer)(O,v),a=Object(p.a)(t,2),c=a[0],r=a[1],s=Object(n.useReducer)(h,N),o=Object(p.a)(s,2),m=o[0],i=o[1],d=Object(n.useReducer)(A,I),u=Object(p.a)(d,2),E=u[0],g=u[1],f=Object(n.useReducer)(A,I),_=Object(p.a)(f,2),b=_[0],S=_[1],y=Object(n.useReducer)(A,I),P=Object(p.a)(y,2),w=P[0],j=P[1],x=Object(n.useReducer)(A,I),R=Object(p.a)(x,2),k=R[0],G=R[1],F=Object(n.useReducer)(A,I),M=Object(p.a)(F,2),W=M[0],B=M[1],Y=Object(n.useReducer)(A,I),U=Object(p.a)(Y,2),J=U[0],q=U[1],K=Object(n.useReducer)(A,I),H=Object(p.a)(K,2),V=H[0],z=H[1],Q=Object(n.useReducer)(A,I),X=Object(p.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useReducer)(A,I),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useReducer)(A,I),ce=Object(p.a)(le,2),re=ce[0],se=ce[1],oe=Object(n.useReducer)(A,I),me=Object(p.a)(oe,2),ie=me[0],de=me[1],ue=Object(n.useReducer)(T,D),Ee=Object(p.a)(ue,2),ge={app:c,user:m,coal:E,soil:b,tax:w,otherCost:k,landlordlist:W,landlordcost:J,stafflist:V,staffsalary:Z,labourdailycost:ae,sharderList:re,brickbuiltcost:ie,seasons:Ee[0]},pe={appDispatch:r,userDispatch:i,coalDispatch:g,soilDispatch:S,taxDispatch:j,otherCostDispatch:G,landlordlistDispatch:B,landlordcostDispatch:q,stafflistDispatch:z,staffsalaryDispatch:$,labourdailycostDispatch:ne,sharderListDispatch:se,brickbuiltcostDispatch:de,seasonsDispatch:Ee[1]};return l.a.createElement(C.Provider,{value:ge},l.a.createElement(L.Provider,{value:pe},e.children))},w=a(8),j=a.n(w),x=a(16),R={Dispatch:null,getInstance:function(e){return R.Dispatch=e,R},Login:function(){var e=Object(x.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.post("user/post/login",t).then((function(t){if(200===t.status){var n=t.data.response,l=t.data.message;localStorage.setItem(b.USERINFO_LOCAL,JSON.stringify(n)),R.Dispatch({type:_.LOGIN,payload:n}),e({message:l,user:n})}else a({message:t.data.message})})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Logout:function(){localStorage.removeItem(b.USERINFO_LOCAL),R.Dispatch({type:_.LOGOUT})}},k=R,G={Dispatch:null,getInstance:function(e){return G.Dispatch=e,G},START_LOADING:function(){G.Dispatch({type:_.START_LOADING})},STOP_LOADING:function(){G.Dispatch({type:_.STOP_LOADING})},SET_RESPONSE:function(e){G.Dispatch({type:_.SET_RESPONSE,payload:e})},REMOVE_RESPONSE:function(){G.Dispatch({type:_.REMOVE_RESPONSE})},RELOAD:function(){G.Dispatch({type:_.RELOAD})}},F=G,M=function(){var e=Object(n.useContext)(C).app,t=Object(n.useContext)(L).appDispatch,a="alert alert-"+e.response.type,c="my-2 btn btn-outline-"+e.response.type;return l.a.createElement(l.a.Fragment,null,e.response.type?l.a.createElement("div",{className:a,role:"alert"},l.a.createElement("h4",{className:"alert-heading"},e.response.title),l.a.createElement("p",{className:"mb-0"},e.response.desc),e.response.type?l.a.createElement("button",{className:c,onClick:function(){F.getInstance(t).REMOVE_RESPONSE()}},"X"):""):l.a.createElement(l.a.Fragment,null))},W=function(e){var t=Object(n.useContext)(C).app,a="";return a=e.color?"spinner-border text-".concat(e.color):"spinner-border text-light",l.a.createElement(l.a.Fragment,null,t.loading?l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"text-info"},"Loading...Please Wait"),l.a.createElement("div",{className:a,role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."))):"")},B=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(p.a)(r,2),o=s[0],m=s[1],i=Object(g.g)();var d=Object(n.useContext)(C).user,u=Object(n.useContext)(L),E=u.appDispatch,f=u.userDispatch;return null!==d&&!0===d.logged_in?l.a.createElement(g.a,{to:"/"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bg-gradient-primary vh-100"},l.a.createElement("div",{className:"container "},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-11"},l.a.createElement("h1",{className:"text-light text-center mt-5"},"Welcome to Brick Factory System"),l.a.createElement(M,null),l.a.createElement(W,{color:"light"})),l.a.createElement("div",{className:"col-md-1"},l.a.createElement("button",{className:"btn btn-outline-light mt-5",onClick:function(){i.push("/db-setup")}},"Config"))),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-xl-10 col-lg-12 col-md-9"},l.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"p-5"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",{className:"h4 text-gray-900 mb-4"},"Welcome Back!")),l.a.createElement("form",{className:"user",onSubmit:function(e){e.preventDefault(),F.getInstance(E).START_LOADING();var t=a.toLocaleLowerCase().trim(),n=o.trim(),l=Y(t,n);if(l.success){var c={email:t,password:o};k.getInstance(f).Login(c).then((function(e){F.getInstance(E).STOP_LOADING()})).catch((function(e){F.getInstance(E).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger")),F.getInstance(E).STOP_LOADING()}))}else F.getInstance(E).SET_RESPONSE(l),F.getInstance(E).STOP_LOADING()},method:"POST"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control form-control-user",name:"email",onChange:function(e){c(e.target.value)},value:a,placeholder:"Enter Email Address..."})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control form-control-user",name:"password",onChange:function(e){m(e.target.value)},value:o,placeholder:"Password"})),l.a.createElement("input",{type:"submit",value:"Login Now",className:"btn btn-primary btn-user btn-block"}))))))))))))},Y=function(e,t){return null!==e&&""!==e&&null!==t&&""!==t?S(!0,"all field are correctly filled","all field are correctly filled,please wait for authentication.","info"):S(!1,"Enter All the Fields","may be you missed some fileds to fill","danger")},U=a(3),J=a.n(U);function q(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",{className:"navbar-nav bg-primary sidebar sidebar-dark accordion",id:"accordionSidebar"},l.a.createElement("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"/"},l.a.createElement("div",{className:"sidebar-brand-icon rotate-n-15"},l.a.createElement("i",{className:"fas fa-laugh-wink"})),l.a.createElement("div",{className:"sidebar-brand-text mx-3"},"m27",l.a.createElement("sup",null,"lab.com"))),l.a.createElement("hr",{className:"sidebar-divider my-0"}),l.a.createElement("li",{className:"nav-item "},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link ",to:"/"},l.a.createElement("i",{className:"fas fa-fw fa-tachometer-alt"}),l.a.createElement("span",null,"Dashboard"))),l.a.createElement("hr",{className:"sidebar-divider"}),l.a.createElement("div",{className:"sidebar-heading"},"Brick Built Cost Info"),l.a.createElement("li",{className:"nav-item "},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/shorder-list"},l.a.createElement("i",{className:"fas fa-fw fa-award"}),l.a.createElement("span",null,"Shorder List"))),l.a.createElement("li",{className:"nav-item "},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/mil-cost"},l.a.createElement("i",{className:"fas fa-fw fa-award"}),l.a.createElement("span",null,"Brick Built Cost"))),l.a.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),l.a.createElement("div",{className:"sidebar-heading"},"Cost Info"),l.a.createElement("li",{className:"nav-item"},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/labour-cost"},l.a.createElement("i",{className:"fab fa-fw fa-accusoft"}),l.a.createElement("span",null,"Labour Cost"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/coal"},l.a.createElement("i",{className:"fas fa-fw fa-chart-area"}),l.a.createElement("span",null,"Coal Cost"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/soil"},l.a.createElement("i",{className:"fas fa-fw fa-table"}),l.a.createElement("span",null,"Soil Cost"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/tax"},l.a.createElement("i",{className:"fas fa-fw fa-hryvnia"}),l.a.createElement("span",null,"Tax Cost"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/other-cost"},l.a.createElement("i",{className:"fas fa-fw fa-euro-sign"}),l.a.createElement("span",null,"Other Cost"))),l.a.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),l.a.createElement("div",{className:"sidebar-heading"},"Staff Info"),l.a.createElement("li",{className:"nav-item"},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/staff-list"},l.a.createElement("i",{className:"fas fa-fw fa-award"}),l.a.createElement("span",null,"Staff List"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/staff-salary"},l.a.createElement("i",{className:"fab fa-fw fa-accusoft"}),l.a.createElement("span",null,"Staff Salary"))),l.a.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),l.a.createElement("div",{className:"sidebar-heading"},"Land Loard Info"),l.a.createElement("li",{className:"nav-item "},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/land-lord-list"},l.a.createElement("i",{className:"fas fa-fw fa-award"}),l.a.createElement("span",null,"Land Lord List"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(E.c,{exact:!0,activeClassName:"active",className:"nav-link",to:"/land-lord-cost"},l.a.createElement("i",{className:"fab fa-fw fa-accusoft"}),l.a.createElement("span",null,"Land Lord Cost"))),l.a.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),l.a.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),l.a.createElement("div",{className:"text-center d-none d-md-inline mt-2"},l.a.createElement("button",{className:"rounded-circle border-0",id:"sidebarToggle",onClick:function(){document.getElementById("accordionSidebar").classList.toggle("toggled")}}))))}function K(){return l.a.createElement("footer",{className:"sticky-footer bg-light"},l.a.createElement("div",{className:"container my-auto"},l.a.createElement("div",{className:"copyright text-center my-auto"},l.a.createElement("span",null,"Copyright \xa9 m27lab.com 2020"))))}function H(){var e=Object(n.useContext)(C).user;return l.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},l.a.createElement("button",{id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3",onClick:function(){document.getElementById("page-top").classList.toggle("sidebar-toggled"),document.getElementById("accordionSidebar").classList.toggle("toggled")}},l.a.createElement("i",{className:"fa fa-bars"})),l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item dropdown no-arrow"},l.a.createElement(E.b,{to:"#",className:"nav-link dropdown-toggle",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"},e.user_name,"-",e.user_role),l.a.createElement("i",{className:"fas fa-user-circle text-primary  ",style:{fontSize:23}})),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},l.a.createElement(E.b,{className:"dropdown-item",to:{pathname:"tel:".concat(e.user_phone_num)},target:"_blank"},l.a.createElement("i",{className:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),"Phone: ",e.user_phone_num),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement(E.b,{className:"dropdown-item",to:{pathname:"mailto:admin@gmail.com"},target:"_top"},l.a.createElement("i",{className:"fas fa-list fa-sm fa-fw mr-2 text-gray-400"}),"Email: ",e.user_email),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement(E.b,{className:"dropdown-item","data-toggle":"modal","data-target":"#logoutModal",to:"/"},l.a.createElement("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout")))))}function V(e){return l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column bg-white"},l.a.createElement("div",{id:"content"},l.a.createElement(H,null),l.a.createElement("div",{className:"container-fluid"},e.children)),l.a.createElement(K,null))}function z(e){var t=function(){e.resetInput.setInput(e.resetInput.initState)};return l.a.createElement("div",{className:"modal fade",id:e.id,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},e.title),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:t},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},e.children),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:t},"Close"),l.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:e.callback},e.btnTitle)))))}var Q={getCurrentSeason:function(){return null!==localStorage.getItem(b.SEASONINFO_LOCAL)?JSON.parse(localStorage.getItem(b.SEASONINFO_LOCAL)):{}}},X={dispatch:null,source:null,getInstance:function(e){return X.dispatch=e,X},getSource:function(){return X.source=o.a.CancelToken.source(),X.source},getAllSeason:function(){var e=Object(x.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.get("v1/get/".concat(t,"/"),{cancelToken:X.source.token}).then((function(t){var n=t.data.message;if(200===t.status){var l=t.data.response;X.dispatch({type:_.GET_ALL_DATA,payload:l}),e({message:n,data:l})}else a({message:n})})).catch((function(e){o.a.isCancel(e)?a({message:"canceled the request"}):a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addSeason:function(e,t){return new Promise((function(a,n){var l=JSON.parse(localStorage.getItem(b.USERINFO_LOCAL));o.a.post(e,t,{headers:{Authorization:"Bearer ".concat(l.access_token)}}).then((function(e){if(200===e.status){var t=e.data.response.new_object;localStorage.setItem(b.SEASONINFO_LOCAL,JSON.stringify(t)),X.dispatch({type:_.ADD_SEASON,payload:t}),a({message:e.data.message})}else n({message:e.data.message})})).catch((function(e){console.error("erroe: ",e),n(e)}))}))},startSeason:function(e,t){return new Promise((function(a,n){var l=JSON.parse(localStorage.getItem(b.USERINFO_LOCAL));o.a.post(e,t,{headers:{Authorization:"Bearer ".concat(l.access_token)}}).then((function(e){if(200===e.status){var t=e.data.response.new_object;localStorage.setItem(b.SEASONINFO_LOCAL,JSON.stringify(t)),X.dispatch({type:_.ADD_SEASON,payload:t}),a({message:e.data.message})}else n({message:e.data.message})})).catch((function(e){console.error("erroe: ",e),n(e)}))}))},SwitchSeason:function(e){return new Promise((function(t,a){var n=JSON.parse(localStorage.getItem(b.USERINFO_LOCAL)),l=e.id,c=Q.getCurrentSeason().id;o.a.put("v1/switchseason/".concat(c,"/").concat(l),{},{headers:{Authorization:"Bearer ".concat(n.access_token)}}).then((function(n){200===n.status?(e.active=1,localStorage.setItem(b.SEASONINFO_LOCAL,JSON.stringify(e)),X.dispatch({type:_.SWITCH_SEASON,payload:l}),t({message:n.data.message})):a({message:n.data.message})})).catch((function(e){console.error("erroe: ",e),a(e)}))}))},Clear:function(){localStorage.removeItem(b.SEASONINFO_LOCAL),X.dispatch({type:_.CLEAR_SEASON})}},Z=X;function $(){var e=Object(n.useContext)(L),t=e.userDispatch,a=e.seasonsDispatch;return l.a.createElement(z,{id:"logoutModal",title:"Ready to Leave?",btnTitle:"Logout",callback:function(e){e.preventDefault(),Z.getInstance(a).Clear(),k.getInstance(t).Logout()}},l.a.createElement("div",{className:"modal-body"},'Select "Logout" below if you are ready to end your current session.'))}function ee(e){var t=Object(n.useContext)(C).user,a=Object(n.useContext)(L).userDispatch;return Object(n.useEffect)((function(){J()(t.token_expirein).isBefore()&&(console.log("Token is expired.login again."),k.getInstance(a).Logout())})),null===t||void 0===t.logged_in||!1===t.logged_in?l.a.createElement(g.a,{to:"/login"}):l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement(q,null),l.a.createElement(V,null,e.children)),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})),l.a.createElement($,null))}var te=a(5);function ae(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.seasonsDispatch,r=e.value,s=r.input,o=r.setInput,m=r.initState,i=function(){return""!==s.title};return l.a.createElement(z,{id:e.id,title:"Add New Season",btnTitle:"Submit Now",callback:function(){if(i())if(JSON.parse(localStorage.getItem(b.SEASONINFO_LOCAL))){var e=JSON.parse(localStorage.getItem(b.SEASONINFO_LOCAL)).id;Z.getInstance(c).addSeason("v1/season/seasons_table/".concat(e),s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Season Started Successfully ","success")),F.getInstance(a).RELOAD(),o(m),window.location.reload()})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))}))}else F.getInstance(a).START_LOADING(),Z.getInstance(c).addSeason("v1/post/seasons_table/",s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Season info added Successfully ","success")),F.getInstance(a).RELOAD(),o(m),window.location.reload()})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))}));else F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"))},resetInput:{setInput:o,initState:m}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Season Title e.g. Season-1 (mar-2020 to dec-2020)",value:s.title,onChange:function(e){o(Object(f.a)(Object(f.a)({},s),{},Object(te.a)({},e.target.name,e.target.value)))}})))))))}function ne(){var e=Object(n.useContext)(C).seasons,t=Object(n.useContext)(L),a=t.seasonsDispatch,c=t.appDispatch,r=Q.getCurrentSeason(),s=Object(n.useState)(r),o=Object(p.a)(s,2),m=o[0],i=o[1];return l.a.createElement(z,{id:"switchSeason",title:"Select A Season",btnTitle:"Switch Now",callback:function(t){if(t.preventDefault(),void 0===m||void 0===m.id||""===m.id)F.getInstance(c).SET_RESPONSE(S(!1,"Select Season","Select A Season First ","danger"));else{var n=e.find((function(e){return e.id===parseInt(m.id)}));F.getInstance(c).START_LOADING(),Z.getInstance(a).SwitchSeason(n).then((function(e){F.getInstance(c).STOP_LOADING(),F.getInstance(c).SET_RESPONSE(S(!0,e.message,"Season Switched Successfully ","success")),F.getInstance(c).RELOAD(),i(r),window.location.reload()})).catch((function(e){F.getInstance(c).STOP_LOADING(),F.getInstance(c).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))}))}},resetInput:{setInput:i,initState:r}},l.a.createElement("div",{className:"modal-body"},l.a.createElement("select",{className:"form-control",name:"id",value:m.id,onChange:function(e){i(Object(f.a)(Object(f.a)({},m),{},Object(te.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:""},"Select Season"),e.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.title)})))))}function le(){var e=Object(n.useContext)(C),t=e.seasons,a=e.user,c=Object(n.useContext)(L).seasonsDispatch,r={title:"",active:1,start:J()(new Date).format(b.DATE_FORMAT_SIMPLE),end:J()(new Date).format(b.DATE_FORMAT_SIMPLE)},s=Object(n.useState)(r),o=Object(p.a)(s,2),m=o[0],i=o[1];return Object(n.useEffect)((function(){var e=Z.getSource();return Z.getInstance(c).getAllSeason("seasons_table").then((function(e){var t=e.data.find((function(e){return 1===e.active}));0===e.data.length?document.getElementById("seasonBtn").click():t&&localStorage.setItem(b.SEASONINFO_LOCAL,JSON.stringify(t))})).catch((function(e){console.log(e.message)})),function(){e.cancel()}}),[t.length]),null===a||void 0===a.logged_in||!1===a.logged_in?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(ae,{id:"addSeasonID",value:{input:m,setInput:i,initState:r}}),l.a.createElement("button",{id:"seasonBtn",type:"button",className:"d-none","data-toggle":"modal","data-target":"#addSeasonID","data-backdrop":"static"},"Add and Start Season"),l.a.createElement(ne,null),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h4",null,"Dashboard"),l.a.createElement("p",null,"Current Season: ",Q.getCurrentSeason().title)),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button","data-toggle":"modal","data-target":"#switchSeason","data-backdrop":"static",className:"btn btn-outline-primary badge-pill px-4 mr-2"},"Switch Season"),l.a.createElement("button",{type:"button","data-toggle":"modal","data-target":"#addSeasonID","data-backdrop":"static",className:"btn btn-primary badge-pill px-4"},"Start New Season"))))}var ce=function(){var e=Object(n.useContext)(C).app,t=Object(n.useState)({}),a=Object(p.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({}),o=Object(p.a)(s,2),m=o[0],i=o[1],d=Object(n.useState)({}),u=Object(p.a)(d,2),E=u[0],g=u[1],f=Q.getCurrentSeason().id;return Object(n.useEffect)((function(){fetch("sum/coal_cost_table/total_coal_weight/total_amount/paid_amount/".concat(f)).then((function(e){return e.json()})).then((function(e){r(e.response)})),fetch("sum/soil_cost_table/total_amount/total_amount/paid_amount/".concat(f)).then((function(e){return e.json()})).then((function(e){i(e.response)})),fetch("sum/labour_daily_salary_table/labour_daily_salary/paid_amount/".concat(f)).then((function(e){return e.json()})).then((function(e){g(e.response)}))}),[e.reload]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"card border border-light shadow-sm"},l.a.createElement("div",{className:"card-body "},l.a.createElement("h5",{className:"card-title text-primary"},"Labour Cost Summery"),l.a.createElement("p",{className:"card-text"},"Total Labour: ",E.total_things," "),l.a.createElement("p",{className:"card-text"},"Total Salary: ",E.total_amount," "),l.a.createElement("p",{className:"card-text"},"Total Paid Salary: ",E.total_paid),l.a.createElement("p",{className:"card-text"},"Total Due Salary:  ",(E.total_amount-E.total_paid).toString()),l.a.createElement("a",{href:"/labour-cost",className:"btn btn-outline-primary"},"View Details")))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"card border border-light  shadow-sm"},l.a.createElement("div",{className:"card-body "},l.a.createElement("h5",{className:"card-title text-primary"},"Coal Cost Summery"),l.a.createElement("p",{className:"card-text"},"Total Coal Weight: ",c.total_things," "),l.a.createElement("p",{className:"card-text"},"Total Price: ",c.total_amount," "),l.a.createElement("p",{className:"card-text"},"Total Paid Price: ",c.total_paid,"  "),l.a.createElement("p",{className:"card-text"},"Total Due Price: ",(c.total_amount-c.total_paid).toString()),l.a.createElement("a",{href:"/coal",className:"btn btn-outline-primary"},"View Details")))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"card border border-light  shadow-sm"},l.a.createElement("div",{className:"card-body "},l.a.createElement("h5",{className:"card-title text-primary"},"Soil Cost Summery"),l.a.createElement("p",{className:"card-text"},"Total Car :  ",m.total_things),l.a.createElement("p",{className:"card-text"},"Total Price: ",m.total_amount),l.a.createElement("p",{className:"card-text"},"Total Paid Price: ",m.total_paid," "),l.a.createElement("p",{className:"card-text"},"Total Due Price: ",(m.total_amount-m.total_paid).toString()),l.a.createElement("a",{href:"/soil",className:"btn btn-outline-primary"},"View Details"))))),l.a.createElement("div",{className:"row m-0 mt-3"},l.a.createElement("div",{className:"col-md-12 p-0"},l.a.createElement("img",{className:"rounded",style:{width:"100%"},src:"https://source.unsplash.com/user/erondu/800x300",alt:"Brick Factory"}))))},re=function(){return l.a.createElement(ee,null,l.a.createElement(le,null),l.a.createElement(ce,null))},se=function(){var e=Object(g.g)();return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 text-center py-5"},l.a.createElement("h1",null,"page not found"),l.a.createElement("p",null,"You are in a wrong place. go to home!"),l.a.createElement("button",{className:"btn btn-danger",onClick:function(t){t.preventDefault(),e.push("/")}},"Go To HOME"))))},oe={dispatch:null,source:null,getInstance:function(e){return oe.dispatch=e,oe},getSource:function(){return oe.source=o.a.CancelToken.source(),oe.source},getAll:function(){var e=Object(x.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.get("v1/get/".concat(t,"/"),{cancelToken:oe.source.token}).then((function(t){var n=t.data.message;if(200===t.status){var l=t.data.response;oe.dispatch({type:_.GET_ALL_DATA,payload:l}),e({message:n,data:l})}else a({message:n})})).catch((function(e){o.a.isCancel(e)?a({message:"canceled the request"}):a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllData:function(){var e=Object(x.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.a.get("v1/get/".concat(t,"/").concat(a),{cancelToken:oe.source.token}).then((function(t){var a=t.data.message;if(200===t.status){var l=t.data.response;oe.dispatch({type:_.GET_ALL_DATA,payload:l}),e({message:a,data:l})}else n({message:a})})).catch((function(e){o.a.isCancel(e)?n({message:"canceled the request"}):n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getPaginateData:function(){var e=Object(x.a)(j.a.mark((function e(t,a,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,l){o.a.get("v1/get/".concat(t,"/").concat(a,"/").concat(n),{cancelToken:oe.source.token}).then((function(t){var a=t.data.message;if(200===t.status){var n=t.data.response;oe.dispatch({type:_.GET_ALL_DATA,payload:n}),e({message:a,data:n})}else l({message:a})})).catch((function(e){o.a.isCancel(e)?l({message:"canceled the request"}):l(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),getAllDataInRange:function(){var e=Object(x.a)(j.a.mark((function e(t,a,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,l){o.a.get("v1/get/".concat(t,"/transaction_date/").concat(a,"/").concat(n),{cancelToken:oe.source.token}).then((function(t){var a=t.data.message;if(200===t.status){var n=t.data.response;oe.dispatch({type:_.GET_ALL_DATA,payload:n}),e({message:a,data:n})}else l({message:a})})).catch((function(e){o.a.isCancel(e)?l({message:"canceled the request"}):l(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),getAllJoinData:function(){var e=Object(x.a)(j.a.mark((function e(t,a,n,l,c,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,s){o.a.get("v1/getjoin/".concat(t,"/").concat(a,"/").concat(n,"/").concat(l,"/transaction_date/").concat(c,"/").concat(r),{cancelToken:oe.source.token}).then((function(t){var a=t.data.message;if(200===t.status){var n=t.data.response;oe.dispatch({type:_.GET_ALL_DATA,payload:n}),e({message:a,data:n})}else s({message:a})})).catch((function(e){o.a.isCancel(e)?s({message:"canceled the request"}):s(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,l,c,r){return e.apply(this,arguments)}}(),getByJoinData:function(){var e=Object(x.a)(j.a.mark((function e(t,a,n,l,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){o.a.get("v1/getjoin/".concat(t,"/").concat(a,"/").concat(n,"/").concat(l,"/").concat(c),{cancelToken:oe.source.token}).then((function(t){var a=t.data.message;if(200===t.status){var n=t.data.response;oe.dispatch({type:_.GET_ALL_DATA,payload:n}),e({message:a,data:n})}else r({message:a})})).catch((function(e){o.a.isCancel(e)?r({message:"canceled the request"}):r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,l,c){return e.apply(this,arguments)}}(),getBrickBuiltCost:function(e,t){return new Promise((function(a,n){o.a.get("v1/brickbuiltcost/".concat(e,"/").concat(t),{cancelToken:oe.source.token}).then((function(e){var t=e.data.message;if(200===e.status){var l=e.data.response;oe.dispatch({type:_.GET_ALL_DATA,payload:l}),a({message:t,data:l})}else n({message:t})})).catch((function(e){o.a.isCancel(e)?n({message:"canceled the request"}):n(e)}))}))},addData:function(e,t){return new Promise((function(a,n){var l=JSON.parse(localStorage.getItem(b.USERINFO_LOCAL));t.created_by_uid=l.id,t.updated_by_uid=l.id,o.a.post(e,t,{headers:{Authorization:"Bearer ".concat(l.access_token)}}).then((function(e){200===e.status?(oe.dispatch({type:_.ADD_DATA,payload:e.data.response.new_object}),a({message:e.data.message})):n({message:e.data.message})})).catch((function(e){console.error("erroe: ",e),n(e)}))}))},updateData:function(e,t,a){return new Promise((function(n,l){var c=JSON.parse(localStorage.getItem(b.USERINFO_LOCAL));t.updated_by_uid=c.id,o.a.put(e,t,{headers:{Authorization:"Bearer ".concat(c.access_token)}}).then((function(e){console.log("my response ",e),200===e.status?(oe.dispatch({type:_.UPDATE_DATA,payload:a}),n({message:e.data.message})):l({message:e.data.message})})).catch((function(e){console.error("erroe: ",e),l(e)}))}))}},me=oe;function ie(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.coalDispatch,r=e.value,s=r.input,o=r.setInput,m=r.initState,i=function(e){o(Object(f.a)(Object(f.a)({},s),{},Object(te.a)({},e.target.name,e.target.value)))},d=function(){return""!==s.total_amount&&""!==s.paid_amount&&""!==s.total_coal_weight&&""!==s.coal_dealer_name&&""!==s.transaction_date};return l.a.createElement(z,{id:e.id,title:"Add Coal Cost",btnTitle:"Submit Now",callback:function(){d()?(F.getInstance(a).START_LOADING(),void 0===s.id?me.getInstance(c).addData("v1/post/coal_cost_table/",s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),F.getInstance(a).RELOAD(),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})):(me.getInstance(c).updateData("v1/put/coal_cost_table/".concat(s.id),s,s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info updated Successfully ","success")),F.getInstance(a).RELOAD(),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})),F.getInstance(a).STOP_LOADING(),o(m))):F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"))},resetInput:{setInput:o,initState:m}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"total_amount",placeholder:"Total Amount",value:s.total_amount,onChange:i})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"paid_amount",value:s.paid_amount,onChange:i,placeholder:"Paid Amount"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"total_coal_weight",value:s.total_coal_weight,onChange:i,placeholder:"Total Coal Weight"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"date",className:"form-control",name:"transaction_date",value:J()(s.transaction_date).format(b.DATE_FORMAT_SIMPLE),onChange:i,placeholder:"(e.g. 2020-02-26)"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("input",{type:"text",className:"form-control",name:"coal_dealer_name",value:s.coal_dealer_name,onChange:i,placeholder:"Coal Dealer Name"})))))))}var de=function(e){var t=e.setPage,a=e.endArray,n=Object(p.a)(a,2),c=n[0],r=n[1];return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){t((function(e){return 1===e?1:e-1})),r(!1)}},"Go Previous Page")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){c||t((function(e){return e+1}))}},"Go Next Page"))))};function ue(e){var t=Object(n.useContext)(C),a=t.app,c=t.coal,r=Object(n.useContext)(L).coalDispatch,s=Object(n.useState)(1),o=Object(p.a)(s,2),m=o[0],i=o[1],d=Object(n.useState)(!1),u=Object(p.a)(d,2),E=u[0],g=u[1];Object(n.useEffect)((function(){var e="coal_cost_table",t=Q.getCurrentSeason().id,a=me.getSource();return E||me.getInstance(r).getPaginateData(e,t,m).then((function(e){g(!1)})).catch((function(t){console.log("".concat(e," error "),t.message),g(!0),i((function(e){return e-1}))})),function(){console.log("".concat(e," clean up ")),a.cancel()}}),[m,a.reload]);return l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement(de,{endArray:d,setPage:i})),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{id:"example",className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Total Coal Weight"),l.a.createElement("th",null,"Total Amount"),l.a.createElement("th",null,"Paid Amount"),l.a.createElement("th",null,"Due Amount"),l.a.createElement("th",null,"Delear Name"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",{onClick:function(t){if("I"==t.target.nodeName){var a=t.target.id,n=c.filter((function(e){return e.id===parseInt(a)}));e.setInput(n[0])}}},c.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,J()(e.transaction_date).format(b.DATE_FORMAT)),l.a.createElement("td",null,e.total_coal_weight),l.a.createElement("td",null,e.total_amount),l.a.createElement("td",null,e.paid_amount),l.a.createElement("td",null,e.total_amount-e.paid_amount),l.a.createElement("td",null,e.coal_dealer_name),l.a.createElement("td",null,l.a.createElement("i",{id:e.id,className:"fa fa-edit","data-toggle":"modal","data-target":"#addCoalCostID"})))})))))))}function Ee(){var e={season_id:Q.getCurrentSeason().id,total_amount:"",paid_amount:"",total_coal_weight:"",coal_dealer_name:"",transaction_date:J()(new Date).format(b.DATE_FORMAT_SIMPLE)},t=Object(n.useState)(e),a=Object(p.a)(t,2),c=a[0],r=a[1];return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(ie,{id:"addCoalCostID",value:{input:c,setInput:r,initState:e}}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Coal Payment Info")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#addCoalCostID"},"Add Coal Payment Info"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(ue,{setInput:r}))))}function ge(e){var t=Object(n.useContext)(C),a=t.app,c=t.soil,r=Object(n.useContext)(L).soilDispatch,s=Object(n.useState)(1),o=Object(p.a)(s,2),m=o[0],i=o[1],d=Object(n.useState)(!1),u=Object(p.a)(d,2),E=u[0],g=u[1];Object(n.useEffect)((function(){var e="soil_cost_table",t=Q.getCurrentSeason().id,a=me.getSource();return E||me.getInstance(r).getPaginateData(e,t,m).then((function(e){g(!1)})).catch((function(t){console.log("".concat(e," error "),t.message),g(!0),i((function(e){return e-1}))})),function(){console.log("".concat(e," clean up ")),a.cancel()}}),[m,a.reload]);return l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement(de,{endArray:d,setPage:i})),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{id:"example",className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Car Quantity"),l.a.createElement("th",null,"Per Car Price"),l.a.createElement("th",null,"Total Amount"),l.a.createElement("th",null,"Paid Amount"),l.a.createElement("th",null,"Due Amount"),l.a.createElement("th",null,"Contractor Name"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",{onClick:function(t){if("I"==t.target.nodeName){var a=t.target.id,n=c.filter((function(e){return e.id===parseInt(a)}));e.setInput(n[0])}}},c.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,J()(e.transaction_date).format(b.DATE_FORMAT)),l.a.createElement("td",null,e.soil_car_quantity),l.a.createElement("td",null,e.soil_per_car_price),l.a.createElement("td",null,e.total_amount),l.a.createElement("td",null,e.paid_amount),l.a.createElement("td",null,e.total_amount-e.paid_amount),l.a.createElement("td",null,e.contractor_name),l.a.createElement("td",null,l.a.createElement("i",{id:e.id,className:"fa fa-edit","data-toggle":"modal","data-target":"#addSoilCostID"})))})))))))}function pe(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.soilDispatch,r=e.value,s=r.input,o=r.setInput,m=r.initState,i=function(e){o(Object(f.a)(Object(f.a)({},s),{},Object(te.a)({},e.target.name,e.target.value)))},d=function(){return""!==s.soil_car_quantity&&""!==s.soil_per_car_price&&""!==s.paid_amount&&""!==s.contractor_name&&""!==s.transaction_date};return l.a.createElement(z,{id:e.id,title:"Add Soil Cost",btnTitle:"Submit Now",callback:function(){d()?(F.getInstance(a).START_LOADING(),s.total_amount=s.soil_car_quantity*s.soil_per_car_price,void 0===s.id?me.getInstance(c).addData("v1/post/soil_cost_table/",s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),F.getInstance(a).RELOAD(),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})):(me.getInstance(c).updateData("v1/put/soil_cost_table/".concat(s.id),s,s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),F.getInstance(a).RELOAD(),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})),F.getInstance(a).STOP_LOADING(),o(m))):F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"))},resetInput:{setInput:o,initState:m}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"soil_car_quantity",placeholder:"Soil Car Quantity",value:s.soil_car_quantity,onChange:i})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"soil_per_car_price",value:s.soil_per_car_price,onChange:i,placeholder:"Soil Per Car Price"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"paid_amount",value:s.paid_amount,onChange:i,placeholder:"Paid Amount"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"date",className:"form-control",name:"transaction_date",value:J()(s.transaction_date).format(b.DATE_FORMAT_SIMPLE),onChange:i,placeholder:"(e.g. 2020-02-26)"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("input",{type:"text",className:"form-control",name:"contractor_name",value:s.contractor_name,onChange:i,placeholder:"Soil Contractor Name"})))))))}function fe(){var e={season_id:Q.getCurrentSeason().id,soil_car_quantity:"",soil_per_car_price:"",paid_amount:"",contractor_name:"",transaction_date:J()(new Date).format(b.DATE_FORMAT_SIMPLE)},t=Object(n.useState)(e),a=Object(p.a)(t,2),c=a[0],r=a[1];return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(pe,{id:"addSoilCostID",value:{input:c,setInput:r,initState:e}}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Soil Payment Info")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#addSoilCostID"},"Add Soil Payment Info"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(ge,{setInput:r}))))}function _e(e){var t=Object(n.useContext)(C),a=t.app,c=t.tax,r=Object(n.useContext)(L).taxDispatch,s=Object(n.useState)(1),o=Object(p.a)(s,2),m=o[0],i=o[1],d=Object(n.useState)(!1),u=Object(p.a)(d,2),E=u[0],g=u[1];Object(n.useEffect)((function(){var e=Q.getCurrentSeason().id,t=me.getSource();return E||me.getInstance(r).getPaginateData("tax_cost_table",e,m).then((function(e){g(!1)})).catch((function(e){console.log("".concat("tax_cost_table"," error "),e.message),g(!0),i((function(e){return e-1}))})),function(){console.log("clean up called tax"),t.cancel()}}),[m,a.reload]);return l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement(de,{endArray:d,setPage:i})),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{id:"example",className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Tax Cost Title"),l.a.createElement("th",null,"Total Amount"),l.a.createElement("th",null,"Paid Amount"),l.a.createElement("th",null,"Due Amount"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",{onClick:function(t){if("I"==t.target.nodeName){var a=t.target.id,n=c.filter((function(e){return e.id===parseInt(a)}));e.setInput(n[0])}}},c.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,J()(e.transaction_date).format(b.DATE_FORMAT)),l.a.createElement("td",null,e.tax_title),l.a.createElement("td",null,e.total_amount),l.a.createElement("td",null,e.paid_amount),l.a.createElement("td",null,e.total_amount-e.paid_amount),l.a.createElement("td",null,l.a.createElement("i",{id:e.id,className:"fa fa-edit","data-toggle":"modal","data-target":"#addTaxCostID"})))})))))))}function be(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.taxDispatch,r=e.value,s=r.input,o=r.setInput,m=r.initState,i=function(e){o(Object(f.a)(Object(f.a)({},s),{},Object(te.a)({},e.target.name,e.target.value)))},d=function(){return""!==s.tax_title&&""!==s.total_amount&&""!==s.paid_amount&&""!==s.transaction_date};return l.a.createElement(z,{id:e.id,title:"Add Tax Cost",btnTitle:"Submit Now",callback:function(){d()?(F.getInstance(a).START_LOADING(),void 0===s.id?me.getInstance(c).addData("v1/post/tax_cost_table/",s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Tax Cost info added Successfully ","success")),F.getInstance(a).RELOAD(),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})):(me.getInstance(c).updateData("v1/put/tax_cost_table/".concat(s.id),s,s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Tax Cost info updated Successfully ","success")),F.getInstance(a).RELOAD(),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})),F.getInstance(a).STOP_LOADING(),o(m))):F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"))},resetInput:{setInput:o,initState:m}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"text",className:"form-control",name:"tax_title",value:s.tax_title,onChange:i,placeholder:"Tax Title"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"total_amount",value:s.total_amount,onChange:i,placeholder:"Total Amount"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"paid_amount",value:s.paid_amount,onChange:i,placeholder:"Paid Amount"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"date",className:"form-control",name:"transaction_date",value:J()(s.transaction_date).format(b.DATE_FORMAT_SIMPLE),onChange:i,placeholder:"(e.g. 2020-02-26)"})))))))}function Ne(){var e={season_id:Q.getCurrentSeason().id,tax_title:"",total_amount:"",paid_amount:"",transaction_date:J()(new Date).format(b.DATE_FORMAT_SIMPLE)},t=Object(n.useState)(e),a=Object(p.a)(t,2),c=a[0],r=a[1];return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(be,{id:"addTaxCostID",value:{input:c,setInput:r,initState:e}}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Tax Cost Info")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#addTaxCostID"},"Add Tax Cost"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(_e,{setInput:r}))))}function he(e){var t=Object(n.useContext)(C),a=t.app,c=t.otherCost,r=Object(n.useContext)(L).otherCostDispatch,s=Object(n.useState)(1),o=Object(p.a)(s,2),m=o[0],i=o[1],d=Object(n.useState)(!1),u=Object(p.a)(d,2),E=u[0],g=u[1];Object(n.useEffect)((function(){var e="daily_other_cost_table",t=Q.getCurrentSeason().id,a=me.getSource();return E||me.getInstance(r).getPaginateData(e,t,m).then((function(e){g(!1)})).catch((function(t){console.log("".concat(e," error "),t.message),g(!0),i((function(e){return e-1}))})),function(){console.log("".concat(e," clean up ")),a.cancel()}}),[m,a.reload]);return l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement(de,{endArray:d,setPage:i})),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{id:"example",className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Other Cost Title"),l.a.createElement("th",null,"Other Cost Description"),l.a.createElement("th",null,"Total Amount"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",{onClick:function(t){if("I"==t.target.nodeName){var a=t.target.id,n=c.filter((function(e){return e.id===parseInt(a)}));e.setInput(n[0])}}},c.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,J()(e.transaction_date).format(b.DATE_FORMAT)),l.a.createElement("td",null,e.other_cost_title),l.a.createElement("td",null,e.other_cost_details),l.a.createElement("td",null,e.total_amount),l.a.createElement("td",null,l.a.createElement("i",{id:e.id,className:"fa fa-edit","data-toggle":"modal","data-target":"#addOtherCostID"})))})))))))}function Se(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.otherCostDispatch,r=e.value,s=r.input,o=r.setInput,m=r.initState,i=function(e){o(Object(f.a)(Object(f.a)({},s),{},Object(te.a)({},e.target.name,e.target.value)))},d=function(){return""!==s.other_cost_title&&""!==s.total_amount&&""!==s.other_cost_details&&""!==s.transaction_date};return l.a.createElement(z,{id:e.id,title:"Add Other Cost",btnTitle:"Submit Now",callback:function(){d()?(F.getInstance(a).START_LOADING(),void 0===s.id?me.getInstance(c).addData("v1/post/daily_other_cost_table/",s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Daily Other Cost info added Successfully ","success")),F.getInstance(a).RELOAD(),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})):(me.getInstance(c).updateData("v1/put/daily_other_cost_table/".concat(s.id),s,s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Daily Other Cost info updated Successfully ","success")),F.getInstance(a).RELOAD(),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})),F.getInstance(a).STOP_LOADING(),o(m))):F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"))},resetInput:{setInput:o,initState:m}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"text",className:"form-control",name:"other_cost_title",value:s.other_cost_title,onChange:i,placeholder:"Other Cost Title"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"total_amount",value:s.total_amount,onChange:i,placeholder:"Total Amount"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("input",{type:"date",className:"form-control",name:"transaction_date",value:J()(s.transaction_date).format(b.DATE_FORMAT_SIMPLE),onChange:i,placeholder:"(e.g. 2020-02-26)"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("textarea",{className:"form-control",rows:"3",name:"other_cost_details",value:s.other_cost_details,onChange:i,placeholder:"(e.g. add extra cost details)"})))))))}function ve(){var e={season_id:Q.getCurrentSeason().id,other_cost_title:"",other_cost_details:"",total_amount:"",transaction_date:J()(new Date).format(b.DATE_FORMAT_SIMPLE)},t=Object(n.useState)(e),a=Object(p.a)(t,2),c=a[0],r=a[1];return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(Se,{id:"addOtherCostID",value:{input:c,setInput:r,initState:e}}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Daily Other Cost Info")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#addOtherCostID"},"Add Daily Other Cost"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(he,{setInput:r}))))}function Oe(){var e=Object(n.useContext)(C).landlordlist,t=Object(n.useContext)(L).landlordlistDispatch;return Object(n.useEffect)((function(){var e=me.getSource();return me.getInstance(t).getAll("land_loard_list_table").then((function(e){})).catch((function(e){console.log(e.message)})),function(){console.log("clean up called land lord list"),e.cancel()}}),[e.length]),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{id:"example",className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Land Lord ID"),l.a.createElement("th",null,"Land Lord Name"),l.a.createElement("th",null,"Land Quantity"),l.a.createElement("th",null,"Rent Per Year"))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.land_lord_name),l.a.createElement("td",null,e.land_quantity),l.a.createElement("td",null,e.land_rent_per_year))})))))))}function ye(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.landlordlistDispatch,r={land_lord_name:"",land_quantity:"",land_rent_per_year:""},s=Object(n.useState)(r),o=Object(p.a)(s,2),m=o[0],i=o[1],d=function(e){i(Object(f.a)(Object(f.a)({},m),{},Object(te.a)({},e.target.name,e.target.value)))};return l.a.createElement(z,{id:e.id,title:"Add New Land Lord",btnTitle:"Submit Now",callback:function(){""===m.land_lord_name||""===m.land_quantity||""===m.land_rent_per_year?F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger")):(F.getInstance(a).START_LOADING(),me.getInstance(c).addData("v1/post/land_loard_list_table/",m).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),i(r)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})))},resetInput:{setInput:i,initState:r}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"text",className:"form-control",name:"land_lord_name",placeholder:"Land Lord Name",value:m.land_lord_name,onChange:d})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"land_quantity",value:m.land_quantity,onChange:d,placeholder:"Land Quantity"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("input",{type:"number",className:"form-control",name:"land_rent_per_year",value:m.land_rent_per_year,onChange:d,placeholder:"Total Rent Per Year"})))))))}function Ie(){return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(ye,{id:"landLordListID"}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Land Lord List")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#landLordListID"},"Add Land Lord Info"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(Oe,null))))}var Ae=a(47);a(86),a(87);function De(e){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("button",{type:"button",className:"btn btn-outline-primary badge-pill px-3","data-toggle":"collapse","data-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},"Filter By Date Range"),l.a.createElement("div",{className:"collapse mt-3",id:"collapseExample"},l.a.createElement("div",{className:"card card-body"},l.a.createElement(Ae.DateRangePicker,{onChange:function(t){return e.setDate([t.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:e.date,direction:"horizontal"})))))}function Te(e){var t=Object(n.useContext)(C).landlordcost,a=Object(n.useContext)(L),c=a.landlordcostDispatch,r=a.landlordlistDispatch,s=J()().startOf("year").format(b.DATE_FORMAT_SIMPLE),o=Object(n.useState)([{startDate:new Date(s),endDate:new Date,key:"selection"}]),m=Object(p.a)(o,2),i=m[0],d=m[1];Object(n.useEffect)((function(){var e=J()(i[0].startDate).format(b.DATE_FORMAT_SIMPLE),t=J()(i[0].endDate).format(b.DATE_FORMAT_SIMPLE),a=me.getSource();return me.getInstance(c).getAllJoinData("land_loard_cost_table","land_lord_id","land_loard_list_table","id",e,t).then((function(e){me.getInstance(r).getAll("land_loard_list_table").then((function(e){})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),function(){console.log("clean up called land lord Cost"),a.cancel()}}),[i,t.length]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement(De,{date:i,setDate:d})),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Land Lord Name"),l.a.createElement("th",null,"Rent Per Year"),l.a.createElement("th",null,"Paid Amount"),l.a.createElement("th",null,"Due Amount"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",{onClick:function(a){if("I"==a.target.nodeName){var n=a.target.id,l=t.filter((function(e){return e.id===parseInt(n)}));e.setInput(l[0])}}},t.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,J()(e.transaction_date).format(b.DATE_FORMAT)),l.a.createElement("td",null,e.land_lord_name),l.a.createElement("td",null,e.land_rent_per_year),l.a.createElement("td",null,e.paid_amount),l.a.createElement("td",null,e.land_rent_per_year-e.paid_amount),l.a.createElement("td",null,l.a.createElement("i",{id:e.id,className:"fa fa-edit","data-toggle":"modal","data-target":"#LandLordCost"})))}))))))))}function Ce(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.landlordcostDispatch,r=Object(n.useContext)(C),s=r.landlordlist,o=r.landlordcost,m=e.value,i=m.input,d=m.setInput,u=m.initState;Object(n.useEffect)((function(){void 0===i.id?document.getElementById("selectNameID").disabled=!1:(console.log("disabled"),document.getElementById("selectNameID").disabled=!0)}),[i.id]);var E=function(e){d(Object(f.a)(Object(f.a)({},i),{},Object(te.a)({},e.target.name,e.target.value)))},g=function(){return o.filter((function(e){var t=J()(e.transaction_date).isSame(i.transaction_date,"year");return e.land_lord_id==i.land_lord_id&&t})).length>0};return l.a.createElement(z,{id:e.id,title:"Add Land Lord Cost",btnTitle:"Submit Now",callback:function(){if(g(),""===i.land_lord_id||""===i.paid_amount)F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"));else if(F.getInstance(a).START_LOADING(),void 0===i.id)g()?(F.getInstance(a).SET_RESPONSE(S(!1,"Already Added this information.","try to edit existing information","danger")),F.getInstance(a).STOP_LOADING()):me.getInstance(c).addData("v1/post/land_loard_cost_table/",i).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),d(u)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))}));else{var e={};e.id=i.id,e.paid_amount=parseFloat(i.paid_amount),e.land_lord_id=i.land_lord_id,me.getInstance(c).updateData("v1/put/land_loard_cost_table/".concat(i.id),e,i).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),d(u)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})),F.getInstance(a).STOP_LOADING(),d(u)}},resetInput:{setInput:d,initState:u}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("select",{id:"selectNameID",className:"form-control",value:i.land_lord_id,name:"land_lord_id",onChange:E},l.a.createElement("option",{value:""},"select name"),s.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.land_lord_name)})))),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"paid_amount",value:i.paid_amount,onChange:E,placeholder:"Paid Amount"})))))))}function Le(){var e={land_lord_id:"",paid_amount:"",transaction_date:J()(new Date).format(b.DATE_FORMAT_SIMPLE)},t=Object(n.useState)(e),a=Object(p.a)(t,2),c=a[0],r=a[1];return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(Ce,{id:"LandLordCost",value:{input:c,setInput:r,initState:e}}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Land Lord Cost Info"),l.a.createElement("p",null,"Showing current year full history by default")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#LandLordCost"},"Add Land Lord Cost"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(Te,{setInput:r}))))}function Pe(){var e=Object(n.useContext)(C).stafflist,t=Object(n.useContext)(L).stafflistDispatch;return Object(n.useEffect)((function(){var e=me.getSource();return me.getInstance(t).getAll("staff_list_table").then((function(e){})).catch((function(e){console.log(e.message)})),function(){console.log("clean up called Staff list table"),e.cancel()}}),[e.length]),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"}),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{id:"example",className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Staff ID"),l.a.createElement("th",null,"Staff Name"),l.a.createElement("th",null,"Staff Salary"),l.a.createElement("th",null,"Staff Position"),l.a.createElement("th",null,"Staff Join Date"))),l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.staff_name),l.a.createElement("td",null,e.staff_salary),l.a.createElement("td",null,e.staff_position),l.a.createElement("td",null,J()(e.staff_join_date).format(b.DATE_FORMAT_SIMPLE)))})))))))}function we(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.stafflistDispatch,r={staff_name:"",staff_salary:"",staff_position:"",staff_join_date:new Date},s=Object(n.useState)(r),o=Object(p.a)(s,2),m=o[0],i=o[1],d=function(e){i(Object(f.a)(Object(f.a)({},m),{},Object(te.a)({},e.target.name,e.target.value)))};return l.a.createElement(z,{id:e.id,title:"Add New Staff",btnTitle:"Submit Now",callback:function(){""===m.staff_name||""===m.staff_salary||""===m.staff_position?F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger")):(F.getInstance(a).START_LOADING(),me.getInstance(c).addData("v1/post/staff_list_table/",m).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),i(r)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})))},resetInput:{setInput:i,initState:r}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"text",className:"form-control",name:"staff_name",placeholder:"Staff Name",value:m.staff_name,onChange:d})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"staff_salary",value:m.staff_salary,onChange:d,placeholder:"Staff Salary"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("input",{type:"text",className:"form-control",name:"staff_position",value:m.staff_position,onChange:d,placeholder:"Staff Position"})))))))}function je(){return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(we,{id:"addNewStaffID"}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Office Staff List")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#addNewStaffID"},"Add New Staff"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(Pe,null))))}function xe(e){var t=Object(n.useContext)(C).staffsalary,a=Object(n.useContext)(L),c=a.staffsalaryDispatch,r=a.stafflistDispatch,s=J()().startOf("month").format(b.DATE_FORMAT_SIMPLE),o=Object(n.useState)([{startDate:new Date(s),endDate:new Date,key:"selection"}]),m=Object(p.a)(o,2),i=m[0],d=m[1];Object(n.useEffect)((function(){var e=J()(i[0].startDate).format(b.DATE_FORMAT_SIMPLE),t=J()(i[0].endDate).format(b.DATE_FORMAT_SIMPLE),a=me.getSource();return me.getInstance(c).getAllJoinData("staff_salary_table","staff_id","staff_list_table","id",e,t).then((function(e){me.getInstance(r).getAll("staff_list_table").then((function(e){})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),function(){console.log("clean up called land lord Cost"),a.cancel()}}),[i,t.length]);return l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement(De,{date:i,setDate:d})),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Staff Name"),l.a.createElement("th",null,"Staff Salary"),l.a.createElement("th",null,"Paid Amount"),l.a.createElement("th",null,"Due Amount"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",{onClick:function(a){if("I"==a.target.nodeName){var n=a.target.id,l=t.filter((function(e){return e.id===parseInt(n)}));e.setInput(l[0])}}},t.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,J()(e.transaction_date).format(b.DATE_FORMAT)),l.a.createElement("td",null,e.staff_name),l.a.createElement("td",null,e.staff_salary),l.a.createElement("td",null,e.paid_amount),l.a.createElement("td",null,e.staff_salary-e.paid_amount),l.a.createElement("td",null,l.a.createElement("i",{id:e.id,className:"fa fa-edit","data-toggle":"modal","data-target":"#addSalaryInfo"})))})))))))}function Re(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.staffsalaryDispatch,r=Object(n.useContext)(C),s=r.stafflist,o=r.staffsalary,m=e.value,i=m.input,d=m.setInput,u=m.initState;Object(n.useEffect)((function(){void 0===i.id?document.getElementById("selectNameID").disabled=!1:(console.log("disabled"),document.getElementById("selectNameID").disabled=!0)}),[i.id]);var E=function(e){d(Object(f.a)(Object(f.a)({},i),{},Object(te.a)({},e.target.name,e.target.value)))},g=function(){return o.filter((function(e){var t=J()(e.transaction_date).isSame(i.transaction_date,"month");return e.staff_id==i.staff_id&&t})).length>0};return l.a.createElement(z,{id:e.id,title:"Add Staff Salary",btnTitle:"Submit Now",callback:function(){if(g(),""===i.staff_id||""===i.paid_amount)F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"));else if(F.getInstance(a).START_LOADING(),void 0===i.id)g()?(F.getInstance(a).SET_RESPONSE(S(!1,"Already Added this information.","try to edit existing information","danger")),F.getInstance(a).STOP_LOADING()):me.getInstance(c).addData("v1/post/staff_salary_table/",i).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),d(u)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))}));else{var e={};e.id=i.id,e.paid_amount=parseFloat(i.paid_amount),e.staff_id=i.staff_id,me.getInstance(c).updateData("v1/put/staff_salary_table/".concat(i.id),e,i).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),d(u)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})),F.getInstance(a).STOP_LOADING(),d(u)}},resetInput:{setInput:d,initState:u}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("select",{id:"selectNameID",className:"form-control",value:i.staff_id,name:"staff_id",onChange:E},l.a.createElement("option",{value:""},"select name"),s.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.staff_name)})))),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"paid_amount",value:i.paid_amount,onChange:E,placeholder:"Paid Amount"})))))))}function ke(){var e={staff_id:"",paid_amount:"",transaction_date:J()(new Date).format(b.DATE_FORMAT_SIMPLE)},t=Object(n.useState)(e),a=Object(p.a)(t,2),c=a[0],r=a[1];return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(Re,{id:"addSalaryInfo",value:{input:c,setInput:r,initState:e}}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Staff Salary Info"),l.a.createElement("p",null,"Showing current month full history by default")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#addSalaryInfo"},"Add Salary Info"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(xe,{setInput:r}))))}function Ge(e){var t=Object(n.useContext)(C),a=t.app,c=t.labourdailycost,r=Object(n.useContext)(L).labourdailycostDispatch,s=Object(n.useState)(1),o=Object(p.a)(s,2),m=o[0],i=o[1],d=Object(n.useState)(!1),u=Object(p.a)(d,2),E=u[0],g=u[1];Object(n.useEffect)((function(){var e="labour_daily_salary_table",t=Q.getCurrentSeason().id,a=me.getSource();return E||me.getInstance(r).getPaginateData(e,t,m).then((function(e){g(!1)})).catch((function(t){console.log("".concat(e," error "),t),g(!0),i((function(e){return e-1}))})),function(){console.log("".concat(e," clean up ")),a.cancel()}}),[m,a.reload]);return l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header"},l.a.createElement(de,{endArray:d,setPage:i})),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Labour Name"),l.a.createElement("th",null,"Labour Daily Salary"),l.a.createElement("th",null,"Paid Amount"),l.a.createElement("th",null,"Due Amount"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",{onClick:function(t){if("I"==t.target.nodeName){var a=t.target.id,n=c.filter((function(e){return e.id===parseInt(a)}));e.setInput(n[0])}}},c.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,J()(e.transaction_date).format(b.DATE_FORMAT)),l.a.createElement("td",null,e.labour_name),l.a.createElement("td",null,e.labour_daily_salary),l.a.createElement("td",null,e.paid_amount),l.a.createElement("td",null,e.labour_daily_salary-e.paid_amount),l.a.createElement("td",null,l.a.createElement("i",{id:e.id,className:"fa fa-edit","data-toggle":"modal","data-target":"#addDailyLabourCostInfo"})))})))))))}function Fe(e){var t=Object(n.useContext)(L),a=t.appDispatch,c=t.labourdailycostDispatch,r=e.value,s=r.input,o=r.setInput,m=r.initState,i=function(e){o(Object(f.a)(Object(f.a)({},s),{},Object(te.a)({},e.target.name,e.target.value)))};return l.a.createElement(z,{id:e.id,title:"Add Daily Labour Cost",btnTitle:"Submit Now",callback:function(){""===s.labour_name||""===s.labour_daily_salary||""===s.paid_amount?F.getInstance(a).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger")):(F.getInstance(a).START_LOADING(),void 0===s.id?me.getInstance(c).addData("v1/post/labour_daily_salary_table/",s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})):(me.getInstance(c).updateData("v1/put/labour_daily_salary_table/".concat(s.id),s,s).then((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!0,e.message,"Cost info added Successfully ","success")),o(m)})).catch((function(e){F.getInstance(a).STOP_LOADING(),F.getInstance(a).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})),F.getInstance(a).STOP_LOADING(),o(m)))},resetInput:{setInput:o,initState:m}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("input",{type:"text",className:"form-control",name:"labour_name",value:s.labour_name,onChange:i,placeholder:"Labour Name"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"labour_daily_salary",value:s.labour_daily_salary,onChange:i,placeholder:"Labour Daily Salary"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"paid_amount",value:s.paid_amount,onChange:i,placeholder:"Paid Amount"})))))))}function Me(){var e={season_id:Q.getCurrentSeason().id,labour_name:"",labour_daily_salary:"",paid_amount:"",transaction_date:J()(new Date).format(b.DATE_FORMAT_SIMPLE)},t=Object(n.useState)(e),a=Object(p.a)(t,2),c=a[0],r=a[1];return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(Fe,{id:"addDailyLabourCostInfo",value:{input:c,setInput:r,initState:e}}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Daily Labour Cost Info Info")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#addDailyLabourCostInfo"},"Add Daily Labour Info"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(Ge,{setInput:r}))))}function We(e){var t=Object(n.useContext)(C).sharderList,a=Object(n.useContext)(L).sharderListDispatch;return Object(n.useEffect)((function(){var e=b.NO_TYPE,t=Q.getCurrentSeason().id,n=me.getSource();return me.getInstance(a).getBrickBuiltCost(e,t).then((function(e){})).catch((function(e){console.log(e.message)})),function(){console.log("clean up called sharder list"),n.cancel()}}),[t.length]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Sharder Name"),l.a.createElement("th",null,"Sharder Type"),l.a.createElement("th",null,"Advance Paid Amount"),l.a.createElement("th",null,"Cleared Advance Amount"),l.a.createElement("th",null,"Due Cleared Amount"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tbody",{onClick:function(a){if("I"===a.target.nodeName){var n=a.target.id,l=t.filter((function(e){return e.id===parseInt(n)}));e.setInput(l[0])}}},t.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.shorder_name),l.a.createElement("td",null,e.shorder_type),l.a.createElement("td",null,e.early_paid_amount),l.a.createElement("td",null,e.cleared_early_amount),l.a.createElement("td",null,(e.early_paid_amount-e.cleared_early_amount).toString()),l.a.createElement("td",null,l.a.createElement("i",{id:e.id,className:"fa fa-edit","data-toggle":"modal","data-target":"#addNewShorder","data-backdrop":"static"})))}))))))))}function Be(e){var t=[b.MIL_TYPE,b.KACHA_TYPE,b.PAKA_TYPE,b.JAB_TYPE],a=e.value,c=a.input,r=a.setInput,s=a.initState,o=Object(n.useContext)(L),m=o.sharderListDispatch,i=o.appDispatch,d=function(e){r(Object(f.a)(Object(f.a)({},c),{},Object(te.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){null===c.id?document.getElementById("selectTypeID").disabled=!1:(console.log("disabled"),document.getElementById("selectTypeID").disabled=!0)}),[c.shorder_type]),l.a.createElement(z,{id:e.id,title:"Add New Sharder",btnTitle:"Submit Now",callback:function(){if(""===c.shorder_name||""===c.early_paid_amount)F.getInstance(i).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"));else if(null===c.id)F.getInstance(i).START_LOADING(),me.getInstance(m).addData("v1/post/".concat("shorder_info_table","/"),c).then((function(e){F.getInstance(i).STOP_LOADING(),F.getInstance(i).SET_RESPONSE(S(!0,e.message,"Sharder info added Successfully ","success")),r(s)})).catch((function(e){F.getInstance(i).STOP_LOADING(),F.getInstance(i).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))}));else{var e=Object(f.a)({},c);delete e.cleared_early_amount,me.getInstance(m).updateData("v1/put/".concat("shorder_info_table","/").concat(c.id),e,c).then((function(e){F.getInstance(i).STOP_LOADING(),F.getInstance(i).SET_RESPONSE(S(!0,e.message,"Sharder info updated Successfully ","success")),F.getInstance(i).RELOAD(),r(s)})).catch((function(e){F.getInstance(i).STOP_LOADING(),F.getInstance(i).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})),F.getInstance(i).STOP_LOADING(),r(s)}},resetInput:{setInput:r,initState:s}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("input",{type:"text",className:"form-control",name:"shorder_name",value:c.shorder_name,onChange:d,placeholder:"Shorder Name e.g. Rahim (1-no Mil) / Karim (Kacha)"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"early_paid_amount",value:c.early_paid_amount,onChange:d,placeholder:"Early Paid Amount"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("select",{id:"selectTypeID",className:"form-control",value:c.shorder_type,name:"shorder_type",onChange:d},l.a.createElement("option",{value:""},"Select shorder type"),t.map((function(e){return l.a.createElement("option",{key:e,value:e},e)})))))))))}function Ye(){var e={id:null,season_id:Q.getCurrentSeason().id,shorder_name:"",shorder_type:"",early_paid_amount:""},t=Object(n.useState)(e),a=Object(p.a)(t,2),c=a[0],r=a[1];return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(Be,{id:"addNewShorder",value:{input:c,setInput:r,initState:e}}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Shorder List")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#addNewShorder","data-backdrop":"static"},"Add New Shorder"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(We,{setInput:r}))))}function Ue(e){var t=[b.MIL_TYPE,b.KACHA_TYPE,b.PAKA_TYPE,b.JAB_TYPE],a=e.value,c=a.input,r=a.setInput,s=a.initState,o=Object(n.useContext)(C).sharderList,m=Object(n.useContext)(L),i=m.sharderListDispatch,d=m.brickbuiltcostDispatch,u=m.appDispatch,E=Object(n.useState)([]),g=Object(p.a)(E,2),_=g[0],N=g[1],h=function(e){r(Object(f.a)(Object(f.a)({},c),{},Object(te.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){var e=Q.getCurrentSeason().id,t=me.getSource();return me.getInstance(i).getAllData("shorder_info_table",e).then((function(e){})).catch((function(e){console.log(e.message)})),function(){console.log("clean up called shorder list in add BB cost"),t.cancel()}}),[o.length]),Object(n.useEffect)((function(){N(o.filter((function(e){return e.shorder_type===c.cost_type})))}),[c.cost_type]),l.a.createElement(z,{id:e.id,title:"Add Brick Built Cost Info",btnTitle:"Submit Now",callback:function(){if(""===c.cost_type||""===c.shorder_id||""===c.weekly_bill||""===c.weekly_brick_quantity||""===c.weekly_cash_bill_paid||""===c.weekly_early_bill_paid)F.getInstance(u).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"));else if(null===c.id)F.getInstance(u).START_LOADING(),me.getInstance(d).addData("v1/post/".concat("brick_built_cost_table","/"),c).then((function(e){F.getInstance(u).STOP_LOADING(),F.getInstance(u).SET_RESPONSE(S(!0,e.message,"BB Cost added Successfully ","success")),r(s)})).catch((function(e){F.getInstance(u).STOP_LOADING(),F.getInstance(u).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))}));else{var e=Object(f.a)({},c);delete e.shorder_name,delete e.shorder_type,delete e.early_paid_amount,me.getInstance(d).updateData("v1/put/".concat("brick_built_cost_table","/").concat(c.id),e,c).then((function(e){F.getInstance(u).STOP_LOADING(),F.getInstance(u).SET_RESPONSE(S(!0,e.message,"BB cost info updated Successfully ","success")),F.getInstance(u).RELOAD(),r(s)})).catch((function(e){F.getInstance(u).STOP_LOADING(),F.getInstance(u).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))})),F.getInstance(u).STOP_LOADING(),r(s)}},resetInput:{setInput:r,initState:s}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("select",{id:"selectTypeID",className:"form-control",value:c.cost_type,name:"cost_type",onChange:h},l.a.createElement("option",{value:""},"Select cost type"),t.map((function(e){return l.a.createElement("option",{key:e,value:e},e)})))),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("select",{id:"selectShorderID",className:"form-control",value:c.shorder_id,name:"shorder_id",onChange:h},l.a.createElement("option",{value:""},"Select Shorder"),_.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.shorder_name)}))))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"weekly_bill",value:c.weekly_bill,onChange:h,placeholder:"Weekly Bill"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"weekly_brick_quantity",value:c.weekly_brick_quantity,onChange:h,placeholder:"weekly brick quantity"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"weekly_cash_bill_paid",value:c.weekly_cash_bill_paid,onChange:h,placeholder:"weekly cash bill paid"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("input",{type:"number",className:"form-control",name:"weekly_early_bill_paid",value:c.weekly_early_bill_paid,onChange:h,placeholder:"weekly early bill paid"})))))))}function Je(e){var t=Object(n.useContext)(C),a=t.app,c=t.brickbuiltcost,r=Object(n.useContext)(L),s=r.sharderListDispatch,o=r.brickbuiltcostDispatch;Object(n.useEffect)((function(){var e=Q.getCurrentSeason().id,t=me.getSource();return me.getInstance(o).getByJoinData("brick_built_cost_table","shorder_id","shorder_info_table","id",e).then((function(t){me.getInstance(s).getAllData("shorder_info_table",e).then((function(e){})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),function(){console.log("clean up called brick_built_cost_table"),t.cancel()}}),[c.length,a.reload]);return l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},"Filter Option..."),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{id:"example",className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Cost Type"),l.a.createElement("th",null,"Sharder Name"),l.a.createElement("th",null,"Weekly Brick Quantity"),l.a.createElement("th",null,"Weekly Bill"),l.a.createElement("th",null,"Weekly Cash Bill Paid"),l.a.createElement("th",null,"Weekly Early Bill Paid"),l.a.createElement("th",null,"Weekly Due Bill"),l.a.createElement("th",null,"Edit"))),l.a.createElement("tfoot",null),l.a.createElement("tbody",{onClick:function(t){if("I"==t.target.nodeName){var a=t.target.id,n=c.filter((function(e){return e.id===parseInt(a)}));e.setInput(n[0])}}},c.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,J()(e.transaction_date).format(b.DATE_FORMAT)),l.a.createElement("td",null,e.cost_type),l.a.createElement("td",null,e.shorder_name),l.a.createElement("td",null,e.weekly_brick_quantity),l.a.createElement("td",null,e.weekly_bill),l.a.createElement("td",null,e.weekly_cash_bill_paid),l.a.createElement("td",null,e.weekly_early_bill_paid),l.a.createElement("td",null,(e.weekly_bill-(e.weekly_cash_bill_paid+e.weekly_early_bill_paid)).toString()),l.a.createElement("td",null,l.a.createElement("i",{id:e.id,className:"fa fa-edit","data-toggle":"modal","data-target":"#addBBCost"})))})))))))}function qe(){var e={id:null,season_id:Q.getCurrentSeason().id,cost_type:"",shorder_id:"",weekly_brick_quantity:"",weekly_bill:"",weekly_cash_bill_paid:"",weekly_early_bill_paid:"",transaction_date:J()(new Date).format(b.DATE_FORMAT_SIMPLE)},t=Object(n.useState)(e),a=Object(p.a)(t,2),c=a[0],r=a[1];return l.a.createElement(ee,null,l.a.createElement(M,null),l.a.createElement(W,{color:"info"}),l.a.createElement(Ue,{id:"addBBCost",value:{input:c,setInput:r,initState:e}}),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Brick Built Cost")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary badge-pill px-4","data-toggle":"modal","data-target":"#addBBCost","data-backdrop":"static"},"Add Brick Built Cost"))),l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(Je,{setInput:r}))))}function Ke(){var e=Object(n.useState)({user_name:"",user_email:"",user_phone_num:"",user_password:"",user_role:"ADMIN",user_salary:5e3}),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useContext)(L).appDispatch,s=function(){o.a.post("user/post/",a).then((function(e){200===e.status?(F.getInstance(r).SET_RESPONSE(S(!0,"User Created","All Done !!!!!!!!","success")),F.getInstance(r).STOP_LOADING()):(F.getInstance(r).SET_RESPONSE(S(!1,"User Creation Failed","","danger")),F.getInstance(r).STOP_LOADING())})).catch((function(e){console.error("erroe: ",e),F.getInstance(r).SET_RESPONSE(S(!1,e.message,"","danger")),F.getInstance(r).STOP_LOADING()}))},m=function(){var e=o.a.get("db/table/user_table"),t=o.a.get("db/table/seasons_table"),a=o.a.get("db/table/tax_cost_table"),n=o.a.get("db/table/coal_cost_table"),l=o.a.get("db/table/soil_cost_table"),c=o.a.get("db/table/daily_other_cost_table"),m=o.a.get("db/table/land_loard_list_table"),i=o.a.get("db/table/land_loard_cost_table"),d=o.a.get("db/table/staff_list_table"),u=o.a.get("db/table/staff_salary_table"),E=o.a.get("db/table/labour_daily_salary_table"),g=o.a.get("db/table/shorder_info_table"),p=o.a.get("db/table/brick_built_cost_table");F.getInstance(r).START_LOADING(),Promise.all([e,t,a,n,l,c,m,i,d,u,E,g,p]).then((function(e){F.getInstance(r).SET_RESPONSE(S(!0,"Done Setup","Creating Admin For the system..","info")),s()})).catch((function(e){F.getInstance(r).SET_RESPONSE(S(!1,e.message,"Something Went Wrong! try again","danger"))}))},i=function(e){c(Object(f.a)(Object(f.a)({},a),{},Object(te.a)({},e.target.name,e.target.value)))},d=function(){for(var e=!0,t=0,n=Object.entries(a);t<n.length;t++){var l=Object(p.a)(n[t],2);l[0];if(""===l[1]){e=!1;break}e=!0}return e};return l.a.createElement("div",{className:"bg-dark vh-100"},l.a.createElement("div",{className:"container "},l.a.createElement("div",{className:"row pt-3 "},l.a.createElement("div",{className:"m-auto"},l.a.createElement(M,null),l.a.createElement(W,{color:"danger"}))),l.a.createElement("div",{className:"row pt-3"},l.a.createElement("div",{className:"m-auto"},l.a.createElement("div",{className:"form-row "},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("label",{htmlFor:""},"Admin User Email"),l.a.createElement("input",{type:"email",className:"form-control",name:"user_email",placeholder:"Admin User Email",value:a.user_email||"",onChange:i}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:""},"Admin User Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"user_name",placeholder:"Admin User Name",value:a.user_name||"",onChange:i}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:""},"Admin User Phone"),l.a.createElement("input",{type:"phone",className:"form-control",name:"user_phone_num",placeholder:"Admin User Phone",value:a.user_phone_num||"",onChange:i}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:""},"Admin User Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"user_password",placeholder:"Admin User Password",value:a.user_password||"",onChange:i}))),l.a.createElement("button",{className:"m-auto btn btn-outline-light mt-5",onClick:function(){d()?m():F.getInstance(r).SET_RESPONSE(S(!1,"Empty Field Found","Enter all feild value and try again","danger"))}},"Start Config")))))}var He=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(E.a,null,l.a.createElement(g.d,null,l.a.createElement(g.b,{exact:!0,path:"/",component:re}),l.a.createElement(g.b,{exact:!0,path:"/login",component:B}),l.a.createElement(g.b,{exact:!0,path:"/Coal",component:Ee}),l.a.createElement(g.b,{exact:!0,path:"/soil",component:fe}),l.a.createElement(g.b,{exact:!0,path:"/tax",component:Ne}),l.a.createElement(g.b,{exact:!0,path:"/other-cost",component:ve}),l.a.createElement(g.b,{exact:!0,path:"/land-lord-list",component:Ie}),l.a.createElement(g.b,{exact:!0,path:"/land-lord-cost",component:Le}),l.a.createElement(g.b,{exact:!0,path:"/staff-list",component:je}),l.a.createElement(g.b,{exact:!0,path:"/staff-salary",component:ke}),l.a.createElement(g.b,{exact:!0,path:"/labour-cost",component:Me}),l.a.createElement(g.b,{exact:!0,path:"/shorder-list",component:Ye}),l.a.createElement(g.b,{exact:!0,path:"/mil-cost",component:qe}),l.a.createElement(g.b,{exact:!0,path:"/db-setup",component:Ke}),l.a.createElement(g.b,{default:!0,component:se})))}}]),a}(n.Component);o.a.defaults.baseURL="https://us-central1-brick-factory-027.cloudfunctions.net/api";var Ve=function(){return l.a.createElement(P,null,l.a.createElement(He,null))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Ve,null)),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.e6b5a2b7.chunk.js.map